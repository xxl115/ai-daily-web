# AI Daily 搜索筛选功能设计建议报告

## 一、现有组件分析

### 当前组件状态

| 组件 | 位置 | 功能 |
|------|------|------|
| `SearchBar.tsx` | `components/layout/` | 顶部搜索框，支持标题/来源搜索 |
| `TimeNav.tsx` | `components/layout/` | 时间筛选：今日/昨日/本周/本月 |
| `SourceFilterPills.tsx` | `components/filters/` | 来源筛选药丸，水平滚动展示 |

### 现有交互流程
```
用户输入关键词 → 实时/回车搜索
用户点击时间按钮 → 切换时间范围
用户点击来源药丸 → 筛选特定来源
```

---

## 二、主流平台搜索筛选设计调研

### 1. Product Hunt
- **搜索入口**: 顶部居中搜索栏，支持实时补全
- **筛选维度**: 时间（今日/本周/本月/全部）、分类（软件/硬件/游戏等）
- **交互特点**: 
  - 筛选器固定在页面顶部
  - 支持多选分类
  - 搜索结果实时更新

### 2. Hacker News
- **搜索入口**: 右上角搜索图标，点击展开搜索框
- **筛选维度**: 时间（最后24h/本周/本月）、相关性
- **交互特点**: 
  - 极简设计
  - 搜索结果单独页面展示
  - 无复杂筛选器

### 3. Reddit
- **搜索入口**: 顶部搜索栏，支持子版块限定
- **筛选维度**: 时间（全部/过去24h/过去周/过去月/过去年）、排序（热门/最新/最佳评论）
- **交互特点**: 
  - 左侧边栏固定筛选器
  - 支持搜索限定范围
  - 多条件组合筛选

### 4. Twitter/X
- **搜索入口**: 顶部搜索栏，支持高级搜索语法
- **筛选维度**: 时间、任何用户、关注的人、附近、照片/视频
- **交互特点**: 
  - 点击"更多筛选"展开高级选项
  - 支持搜索保存为集合
  - 实时搜索建议

---

## 三、三个设计方案

### 方案一：水平筛选栏方案（扩展现有模式）

#### UI 草图描述
```
┌─────────────────────────────────────────────────────────────────┐
│ [搜索框 ─────────────────────────────── 🔍]                    │
├─────────────────────────────────────────────────────────────────┤
│ 🔍 全部 | 今日 | 昨日 | 本周 | 本月                            │
│                                                                 │
│ 来源: [全部 v]  [OpenAI v]  [MIT        v]  [+ 添加来源]        │
│                                                                 │
│ 排序: [热度 v]  [最新 v]      [相关性 v]                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│ ┌─ 搜索结果列表 ─────────────────────────────────────────────┐ │
│ │ AI News Title 1              🔥 2.3k  📅 2小时前           │ │
│ │ AI News Title 2              🔥 1.8k  📅 3小时前           │ │
│ └────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

#### 交互流程
1. **搜索行为**: 用户在顶部搜索框输入，实时过滤结果
2. **时间筛选**: 点击 TimeNav 按钮切换时间范围
3. **来源筛选**: 下拉选择或点击药丸切换来源
4. **排序切换**: 右侧下拉菜单选择排序方式
5. **组合筛选**: 所有条件即时生效，结果实时更新

#### 优缺点分析

| 优点 | 缺点 |
|------|------|
| ✅ 用户习惯，符合直觉 | ❌ 水平空间有限，筛选维度多时拥挤 |
| ✅ 操作路径短 | ❌ 移动端适配复杂 |
| ✅ 视觉统一 | ❌ 缺少高级筛选功能 |
| ✅ 适合简单筛选场景 | ❌ 来源过多时需要滚动 |

---

### 方案二：侧边栏筛选器方案

#### UI 草图描述
```
┌──────────────────────────────────────────────────────────────────────────┐
│  ┌─────────────┐   ┌─────────────────────────────────────────────────┐   │
│  │ 🔍 搜索     │   │  📰 AI Daily                    [登录] [设置]   │   │
│  │ [搜索...  v]│   ├─────────────────────────────────────────────────┤   │
│  ├─────────────┤   │                                                 │   │
│  │ 📅 时间     │   │  ┌───────────────────────────────────────────┐  │   │
│  │ ○ 全部      │   │  │ 🔥 今日热门 AI 新闻                       │  │   │
│  │ ● 今日      │   │  └───────────────────────────────────────────┘  │   │
│  │ ○ 昨日      │   │                                                 │   │
│  │ ○ 本周      │   │  [搜索框 ─────────────────────── 🔍]          │   │
│  │ ○ 本月      │   │                                                 │   │
│  ├─────────────┤   │  ┌───────────────────────────────────────────┐  │   │
│  │ 📂 来源     │   │  │ 🗂️ 筛选器                                   │  │   │
│  │ ☑️ OpenAI   │   │  ├───────────────────────────────────────────┤  │   │
│  │ ☑️ MIT      │   │  │                                             │  │   │
│  │ ☑️ Ars      │   │  │  ┌─────────────────────────────────────┐   │  │   │
│  │ ☑️ Wired    │   │  │  │ AI News Title 1                    │   │  │   │
│  │ [+更多来源] │   │  │  │ 🔥 2.3k  📅 2小时前  📰 OpenAI      │   │  │   │
│  ├─────────────┤   │  │  └─────────────────────────────────────┘   │  │   │
│  │ 📊 热度范围 │   │  │                                             │  │   │
│  │ [──|----|─] │   │  │  ┌─────────────────────────────────────┐   │  │   │
│  │   0   50   │   │  │  │ AI News Title 2                    │   │  │   │
│  │   k  100k  │   │  │  │ 🔥 1.8k  📅 3小时前  📰 MIT          │   │  │   │
│  ├─────────────┤   │  │  └─────────────────────────────────────┘   │  │   │
│  │ 🏷️ 标签     │   │  │                                             │  │   │
│  │ [LLM] [GPT] │   │  └───────────────────────────────────────────┘  │   │
│  │ [AI绘画]    │   │                                                 │   │
│  └─────────────┘   └─────────────────────────────────────────────────┘   │
└──────────────────────────────────────────────────────────────────────────┘
```

#### 交互流程
1. **侧边栏导航**: 左侧固定侧边栏，包含所有筛选选项
2. **多选支持**: 来源支持多选（Checkbox 模式）
3. **滑块控制**: 热度范围通过滑块调整
4. **折叠展开**: 点击分类标题可折叠/展开该筛选组
5. **清除重置**: 一键清除所有筛选条件

#### 优缺点分析

| 优点 | 缺点 |
|------|------|
| ✅ 扩展性强，可添加更多筛选维度 | ❌ 占用屏幕空间 |
| ✅ 支持多选组合筛选 | ❌ 移动端需要适配 |
| ✅ 视觉层次清晰 | ❌ 需要更多点击操作 |
| ✅ 适合复杂筛选场景 | ❌ 侧边栏内容过多时需要滚动 |
| ✅ 符合专业用户预期 | |

---

### 方案三：混合方案（推荐）- 搜索+筛选面板

#### UI 草图描述
```
┌──────────────────────────────────────────────────────────────────────────┐
│                                                                      ▲ │
│  ┌────────────────────────────────────────────────────────────────┐  │ │
│  │ 🔍 搜索 [AI 生成的新闻 ─────────────────────────────] [x]      │  │ │
│  └────────────────────────────────────────────────────────────────┘  │ │
│                        [🔍 搜索] [💡 智能推荐] [📊 高级筛选 ▼]        │ │
├──────────────────────────────────────────────────────────────────────────┤
│                                                                      │ │
│  ┌─── 筛选面板（可展开/收起）───────────────────────────────────────┐  │ │
│  │                                                              │ ▲ │ │
│  │  时间:  [● 今日] [○ 昨日] [○ 本周] [○ 本月] [○ 自定义...]      │  │ │
│  │                                                              │  │ │
│  │  来源:  [全部 v]  [OpenAI v]  [MIT v]  [+3]                   │  │ │
│  │                                                              │  │ │
│  │  排序:  [热度 v]  [最新 v]  [相关性 v]                        │  │ │
│  │                                                              │  │ │
│  │  🏷️ 标签: [× LLM] [× GPT-4] [+ 添加标签]                     │  │ │
│  │                                                              │ ▼ │ │
│  └───────────────────────────────────────────────────────────────┘  │ │
│                                                                      │ │
├──────────────────────────────────────────────────────────────────────────┤
│  💬 正在显示 "AI" 相关结果                                             │
│                                                                      │
│  ┌─────────────────────────────────────────────────────────────┐       │
│  │ 🔥 AI News Title 1                                          │       │
│  │ 📰 OpenAI • 🔥 2.3k • 📅 2小时前                            │       │
│  │ [LLM] [ChatGPT] [产品]                                       │       │
│  └─────────────────────────────────────────────────────────────┘       │
│                                                                      │
│  ┌─────────────────────────────────────────────────────────────┐       │
│  │ 🔥 AI News Title 2                                          │       │
│  │ 📰 MIT • 🔥 1.8k • 📅 3小时前                                │       │
│  │ [开源] [模型]                                                │       │
│  └─────────────────────────────────────────────────────────────┘       │
│                                                                      │
│  [加载更多...]                                                        │
└──────────────────────────────────────────────────────────────────────────┘
```

#### 交互流程

**基础搜索流程:**
1. 用户在搜索框输入关键词
2. 实时显示搜索建议
3. 按回车或点击搜索图标执行搜索
4. 搜索结果即时更新

**筛选面板流程:**
1. 点击"高级筛选"展开筛选面板
2. 配置各维度筛选条件
3. 筛选条件即时应用
4. 面板自动收起或保持展开（可切换）
5. 点击筛选标签快速移除单个条件

**智能功能:**
1. 显示当前筛选条件标签（可点击移除）
2. 支持筛选条件保存为预设
3. 搜索建议基于热门和历史

#### 优缺点分析

| 优点 | 缺点 |
|------|------|
| ✅ 界面简洁，默认只展示搜索框 | ❌ 需要点击才能看到筛选选项 |
| ✅ 渐进式披露，降低认知负担 | ❌ 高级功能隐藏较深 |
| ✅ 扩展性强，易于添加新筛选维度 | ❌ 需要用户探索发现功能 |
| ✅ 响应式适配性好 | |
| ✅ 移动端友好 | |
| ✅ 符合现代 UI 趋势（Google、Airbnb 风格） | |

---

## 四、针对 AI Daily 的推荐方案

### 推荐：方案三（混合方案）

#### 推荐理由

1. **符合产品定位**
   - AI Daily 是新闻聚合平台，用户主要目的是快速获取信息
   - 简洁的搜索入口满足大部分场景
   - 高级筛选满足深度用户需求

2. **渐进式体验**
   - 默认展示搜索框，降低入门门槛
   - 筛选面板按需展开，不干扰主要浏览流程
   - 筛选标签让用户清晰了解当前状态

3. **扩展性考虑**
   - 未来可添加：标签筛选、来源多选、热度范围、作者筛选等
   - 筛选面板结构易于扩展新维度

4. **技术实现友好**
   - 可复用现有组件（SearchBar、TimeNav、SourceFilterPills）
   - 筛选面板可作为独立组件实现
   - 状态管理清晰

### 实现建议

#### 1. 搜索框增强（复用 SearchBar）
```tsx
// 建议改进
interface SearchBarProps {
  onSearch?: (keyword: string) => void;
  onFocus?: () => void;  // 聚焦时展开建议
  showSuggestions?: boolean;
  suggestions?: string[];  // 搜索建议
}
```

#### 2. 筛选面板组件（新建）
```tsx
// components/filters/FilterPanel.tsx
interface FilterPanelProps {
  isOpen: boolean;
  onToggle: () => void;
  filters: ArticleFilters;
  onChange: (filters: ArticleFilters) => void;
  onClear: () => void;
}
```

#### 3. 筛选标签组件（新建）
```tsx
// components/filters/ActiveFilters.tsx
interface ActiveFiltersProps {
  filters: ArticleFilters;
  onRemove: (key: keyof ArticleFilters, value: string) => void;
  onClearAll: () => void;
}
```

### 组件结构建议

```
components/
├── layout/
│   ├── SearchBar.tsx      // 增强：支持搜索建议
│   └── TimeNav.tsx         // 保持现有
├── filters/
│   ├── FilterPanel.tsx     // 新建：高级筛选面板
│   ├── FilterTags.tsx      // 新建：已选筛选标签
│   ├── SourceMultiSelect.tsx  // 新建：来源多选
│   └── SortDropdown.tsx    // 新建：排序下拉
└── article/
    └── ArticleListPH.tsx   // 保持现有
```

### 实施优先级

| 优先级 | 功能 | 原因 |
|--------|------|------|
| P0 | 搜索建议 | 提升搜索体验，降低输入成本 |
| P0 | 筛选面板 | 核心功能，支持多维度筛选 |
| P1 | 筛选标签 | 让用户了解当前筛选状态 |
| P1 | 来源多选 | 高级用户常用功能 |
| P2 | 筛选预设 | 保存常用筛选条件 |
| P2 | 热度滑块 | 精准控制结果质量 |

---

## 五、总结

AI Daily 的搜索筛选功能建议采用**方案三（混合方案）**，原因如下：

1. **平衡简洁与功能**: 满足不同层次用户需求
2. **渐进式体验**: 用户按需探索高级功能
3. **易于扩展**: 适应未来产品演进
4. **实现成本适中**: 可复用现有组件

建议的实施路线：先实现搜索建议和筛选面板，再逐步添加高级功能。
